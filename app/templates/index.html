{% extends "base.html" %}

{% block app_content %}
<!--<h1>Salut, ##{{ current_user.username }}!</h1>-->

<label for="numbercitation">Choisir un numero de citation:</label>

<input type="number" id="numbercitation" name="numbercitation"
       min="1" max="300">


<button type="button" id="Run">Load</button>
<button type="button" id="Plusone">+1</button>
<button type="button" id="Suivant">Suivant</button>
<button type="button" id="Minusone">-1</button>

<h2 id="ShowCitation"></h2>
<!--<div class="container">
    <table class="table table-striped table-bordered table-hover table-condensed">
        <thead>
            <tr>
                <th>#</th>
                <th>Citation</th>
                <th>SRR</th>
                <th>TRT</th>
            </tr>
        </thead>
        <tbody>
            {% for citation in citations %}
            {% include '_post.html' %}
            {% endfor %}
        </tbody>
    </table>
</div>-->
{% endblock %}


{% block scripts %}
{{ super() }}
<script>

    $(function () {
        // write start up code here
        var iteration
        var citations
        $("#Run").click(function () {

            //
            iteration=1
            variable = Number($('#numbercitation').val());
            
            $.ajax({
                url: '/RequestCitations',
                type: 'POST',
                data: JSON.stringify(variable),
                success: function (dicts) {
                    citations = dicts;
                    //$("#ShowCitation").html(citations.keys()[iteration]);
                    $("#ShowCitation").html(citations[iteration][0]);
                }
            });
        });
        $("#Plusone").click(function() {

            $("#ShowCitation").html(citations[iteration][1]);
            //$("#ShowCitation").html(Object.values(citations)[iteration]);
                    
        });     
        $("#Suivant").click(function () {
            iteration = iteration + 1;
            //$("#ShowCitation").html(citations.keys()[iteration]);
            $("#ShowCitation").html(citations[iteration][0]);

        });

            

            //$.getJSON('/RequestCitations', 2, function (data) {
            //    $("#ShowCitation").html(data["text"]);
            //});
        

        //$('#Hide').click(function () {
        //    $('span.text').hide();
        //});

    });
</script>
{% endblock %}



